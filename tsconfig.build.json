// tsconfig.build.json
//
// ----------------------------------------------------------------------------
//                                   ОПИСАНИЕ
// ----------------------------------------------------------------------------
// Конфигурация сборки для генерации выходных артефактов в каталог dist.
// Запуск: `tsc -p tsconfig.build.json` или через npm-скрипт.
// Выполняет:
//   • компиляцию исходников в JS;
//   • генерацию деклараций типов (*.d.ts) и их карт (*.d.ts.map);
//   • выпуск карт исходников (source map);
//   • инкрементальную компиляцию для ускорения повторных сборок.
// Путь и формат выходных файлов должны соответствовать package.json (main/types/exports).
// ----------------------------------------------------------------------------
{
    // Наследование общих параметров из базовой конфигурации
    "extends": "./tsconfig.base.json",

    "compilerOptions": {
        // Куда складывать результат
        "outDir": "dist",

        // Корень исходников для корректной структуры вывода
        "rootDir": "src",

        // Генерировать *.d.ts
        "declaration": true,

        // Генерировать *.d.ts.map
        "declarationMap": true,

        // Генерировать *.js.map
        "sourceMap": true,

        // Прятать @internal из публичных d.ts
        "stripInternal": true,

        // Разрешить генерацию выходных файлов
        "noEmit": false,

        // Готов к ссылкам межпроектных зависимостей (Project References)
        "composite": true,

        // Включить инкрементальную компиляцию
        "incremental": true,

        // Куда сохранять кэш компилятора
        "tsBuildInfoFile": ".tsbuildinfo"
    },

    // Что собирать
    "include": ["src"],

    // Что пропустить при сборке
    "exclude": ["dist", "node_modules", "tests"]
}
